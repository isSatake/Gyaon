extends layout

block content
  p your id :
    span#gyaonId #{id}
  div#recorder
    button#recordButton.btn-floating.btn-large.red.disabled
      i.material-icons mic_none
    canvas#volumeMeter("width=500 height=50")
  div.switch
    label Tracking
      input(id="tracking", type="checkbox")
      span.lever
  div#mapcontainer
    div#map
    div#tablecontainer
    table#memos.highlight
      each sound in sounds
        tr.memo(key=sound.key)
          td.date #{format(sound.lastmodified)}
            audio(src=endpoint+"/sounds/"+sound.key, preload="metadata", locationx = sound.location_x, locationy = sound.location_y)
            div.progress.transparent
              div.determinate
          td.comment #{sound.memo}
            input(type="text", value=sound.comment)
          td.delete-button
            i.deleteButton.tiny.material-icons="clear"
          td.copy-button
            i.copyButton.tiny.material-icons="content_copy"


block scripts
  link(rel='icon', sizes='16x16 32x32 48x48 64x64', href='favicon.ico')
  link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css')
  link(rel='stylesheet', href='/stylesheets/style.css')
  link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
  script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.8/clipboard.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js')
  script(async, defer, src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAN7SkY8RnsOdznlD5-KKxNQFDFto8I_W0&callback=initMap')
  script(src='../javascripts/recorder.js')
  script(src='../javascripts/exporter.js')
  script(src='../javascripts/volume-meter.js')
  script(src='../javascripts/mapscript.js')
  script(src='../javascripts/socket.io.js')
